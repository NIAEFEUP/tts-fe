{"version":3,"sources":["../../../../../packages/vite/src/utils/nx-tsconfig-paths-find-file.ts"],"sourcesContent":["import { existsSync } from 'node:fs';\nimport { resolve, basename, dirname } from 'node:path';\n\nexport function findFile(\n  path: string,\n  extensions: string[],\n  existsSyncImpl: typeof existsSync = existsSync\n): string {\n  const queryLessPath = path.replace(/\\?\\S*$/, '');\n\n  for (const ext of extensions) {\n    const dir = dirname(path);\n    // Support file extensions such as .css and .js in the import path.\n    // While still allowing for '.suffix'\n    const name = basename(queryLessPath, ext);\n\n    const resolvedPath = resolve(dir, name + ext);\n    if (existsSyncImpl(resolvedPath)) {\n      return resolvedPath;\n    }\n\n    const resolvedIndexPath = resolve(path, `index${ext}`);\n    if (existsSyncImpl(resolvedIndexPath)) {\n      return resolvedIndexPath;\n    }\n  }\n}\n"],"names":["findFile","path","extensions","existsSyncImpl","existsSync","queryLessPath","replace","ext","dir","dirname","name","basename","resolvedPath","resolve","resolvedIndexPath"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";+BAGgBA;;;eAAAA;;;wBAHW;0BACgB;AAEpC,SAASA,SACdC,IAAY,EACZC,UAAoB,EACpBC,iBAAoCC,kBAAU;IAE9C,MAAMC,gBAAgBJ,KAAKK,OAAO,CAAC,UAAU;IAE7C,KAAK,MAAMC,OAAOL,WAAY;QAC5B,MAAMM,MAAMC,IAAAA,iBAAO,EAACR;QACpB,mEAAmE;QACnE,qCAAqC;QACrC,MAAMS,OAAOC,IAAAA,kBAAQ,EAACN,eAAeE;QAErC,MAAMK,eAAeC,IAAAA,iBAAO,EAACL,KAAKE,OAAOH;QACzC,IAAIJ,eAAeS,eAAe;YAChC,OAAOA;QACT;QAEA,MAAME,oBAAoBD,IAAAA,iBAAO,EAACZ,MAAM,CAAC,KAAK,EAAEM,IAAI,CAAC;QACrD,IAAIJ,eAAeW,oBAAoB;YACrC,OAAOA;QACT;IACF;AACF"}